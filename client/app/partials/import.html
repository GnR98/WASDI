<div class="import-view col-lg-12 col-md-12 col-sm-12 col-xs-12">

    <!--Operation bar-->
    <div class="col-lg-11 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-2 col-sm-offset-2 col-xs-offset-2 operations-bar my-input-text"  ><!--style="height: 80px;"-->
        <!--PROVIDERS-->
        <multiselectdropdownmenu options="m_oController.m_aListOfProvider"></multiselectdropdownmenu>

        <multiradiobuttondropdownmenu options="m_oController.m_aoSeason" name="Seasons" on-click="m_oController.changeSeason(sSeason)"><!--functionOnClick="m_oController.test"-->

        </multiradiobuttondropdownmenu>


        <!--<div>&lt;!&ndash; class="multiRadioButtonDropdownMenu" &ndash;&gt;-->
            <!--<button class="multiRadioButtonDropdownMenu" type="button" id="seasons"-->
                    <!--data-toggle="dropdown">-->
                <!--Dropdown-->
                <!--<span class="caret"></span>-->
            <!--</button>-->
            <!--<ul class="dropdown-menu radio" role="menu" aria-labelledby="seasons">-->
                <!--<li  >-->
                    <!--<label>-->
                        <!--<input type="radio" name="name" value="" checked="checked">-->
                        <!--{{"IMPORT_SEASON_SPRING_RADIO_BUTTON"|translate}}-->
                    <!--</label>-->
                <!--</li>-->
                <!--<li  >-->
                    <!--<label>-->
                        <!--<input type="radio" name="name"  value="" checked="checked">-->
                        <!--{{"IMPORT_SEASON_SUMMER_RADIO_BUTTON"|translate}}-->
                    <!--</label>-->
                <!--</li>-->
                <!--<li  >-->
                    <!--<label>-->
                        <!--<input type="radio" name="name" value="" checked="checked">-->
                        <!--{{"IMPORT_SEASON_WINTER_RADIO_BUTTON"|translate}}-->
                    <!--</label>-->
                <!--</li>-->
                <!--<li  >-->
                    <!--<label>-->
                        <!--<input type="radio" name="name"  value="" checked="checked">-->
                        <!--{{"IMPORT_SEASON_AUTUMN_RADIO_BUTTON"|translate}}-->
                    <!--</label>-->
                <!--</li>-->

            <!--</ul>-->
        <!--</div>-->

        <!--search button-->
        <div class="search-button-container" >
            <div class="search-button" ng-click="m_oController.searchAllSelectedProviders()" id="search-button"
                 ng-class="{'search-button-disabled': m_oController.thereIsAtLeastOneProvider() === false || (m_oController.m_bIsVisibleListOfLayers || m_oController.m_bisVisibleLocalStorageInputs),
                            'search-button': m_oController.thereIsAtLeastOneProvider() === true }" >
                <!--<i class="fa fa-search fa-lg" aria-hidden="true"></i>-->
                {{"IMPORT_SEARCH_BUTTON"|translate}}
            </div>
        </div>
        <!--TIME-->
        <div class="time-container" >
            <!-- TO:-->
            <div  class="my-input-text" ng-if="m_oController.m_bShowsensingfilter">

                <div class=" advanced-calendar-input input-calendar-container " >
                    <p class="input-group" >
                        <input type="text" class="form-control advanced-calendar-date-input"
                               uib-datepicker-popup="yyyy/MM/dd"
                               ng-model="m_oController.m_oModel.sensingPeriodTo"
                               is-open="m_oController.m_oStatus.openedSensingPeriodTo"
                               date-disabled="m_oController.disabled(date, mode)" ng-required="true"
                               min-date="m_oController.m_oModel.sensingPeriodFrom"
                               ng-blur="m_oController.updateAdvancedSearch()" close-text="Close"
                               readonly="true" data-container="body"/>
                        <span class="input-group-btn">
							<button type="button" class="btn btn-default advanced-calendar-button"
                                    ng-click="m_oController.openSensingPeriodTo($event)"><i class="fa fa-calendar" aria-hidden="true"></i></button>
						  </span>
                    </p>
                </div>

                <div class="description-label" >
                    To:
                </div>
                <!-- FROM: -->
                <div class="input-calendar-container" >

                    <p class="input-group">
                        <input type="text" class="form-control advanced-calendar-date-input"
                               uib-datepicker-popup="yyyy/MM/dd"
                               ng-model="m_oController.m_oModel.sensingPeriodFrom"
                               is-open="m_oController.m_oStatus.openedSensingPeriodFrom"
                               date-disabled="m_oController.disabled(date, mode)"
                               max-date="m_oController.m_oModel.sensingPeriodTo" ng-required="true"
                               ng-blur="m_oController.updateAdvancedSearch()" readonly="true"
                               close-text="Close"/>

                        <span class="input-group-btn">
        			        <button type="button" class="btn btn-default advanced-calendar-button"
                                ng-click="m_oController.openSensingPeriodFrom($event)">
                                <i class="fa fa-calendar" aria-hidden="true"></i>
                            </button>
                        </span>

                    </p>
                </div>

                <div class="description-label" >
                    From:{{ this.m_oModel.sensingPeriodFrom}}
                </div>
                <div class="description-label" >
                    Sensing period
                </div>
            </div>
        </div>
    </div>

        <!-- SIDEBAR -->
    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 side-panel">
        <div class="panel panel-default">


            <div class="panel-heading">
                <!-- BACK -->
                <i class="fa fa-arrow-left fa-lg backbtn" aria-hidden="true" ng-click=" m_oController.setPaginationVariables()" ng-show="m_oController.m_bIsVisibleListOfLayers"></i>

                <span ng-hide="m_oController.m_bIsVisibleListOfLayers">{{"IMPORT_PANEL_HEAD_TITLE_FILTERS"|translate}}</span>
                <div class="my-button clear-button" ng-click="m_oController.clearFilter()"   ng-click="m_oController.clearFilter()" title="Clear Search Filter" ng-show="m_oController.m_bClearFiltersEnabled">
                    <!--<i class="fa fa-search fa-lg" aria-hidden="true"></i>-->
                    <!--{{"IMPORT_CLEAR_BUTTON"|translate}}-->
                    <i class="fa fa-bath" aria-hidden="true" ></i>

                </div>

            </div>
            <div  class="panel-body"><!--id="mySidenav"-->





                <!---------------------ADVANCE SEARCH------------------------->
                <div  class="advance-search" id="advanced-search-container" ng-hide="m_oController.m_bIsVisibleListOfLayers || m_oController.m_bisVisibleLocalStorageInputs">
                    <div id="advanced-search-content">

                        <div style="overflow:visible;padding:15px 5px;" class="my-input-text"><!--id="section_2" class="panel-collapse collapse" role="tabpanel" aria-labelledby="section_2"-->

                            <!--SEARCH INPUT-->
                            <div class="search-input">
                                <div class="my-label">Product Name</div>
                                <input type="text" ng-model="m_oController.m_oModel.textQuery"
                                       placeholder="Search..." ><!-- style="padding: 0px !important;"-->
                            </div>


                            <!--*********************** MISSIONS LIST ********************************-->
                            <ul class="nav nav-tabs nav-justified">
                                <!--<li class="active"><a href="#">{{mission.name}}</a></li>-->
                                <li ng-class="{active: m_oController.m_activeMissionTab === $index}" ng-repeat="mission in m_oController.getMissions()" ng-click="m_oController.m_activeMissionTab = $index">
                                    <a href="">
                                        <i class="fa fa-check-circle" aria-hidden="true" ng-show="mission.selected"></i>
                                        <i class="fa fa-times-circle" aria-hidden="true" ng-hide="mission.selected"></i>
                                        {{mission.name}}

                                    </a>
                                </li>

                            </ul>

                            <div ng-repeat="mission in m_oController.getMissions()" class="missions" ng-show="m_oController.m_activeMissionTab === $index">
                                <div>
                                    <div class="col-md-1 col-xs-4 col-sd-4">
                                        <div class="glyphicon mission-checkbox"
                                             ng-class="{ ' glyphicon-unchecked': !mission.selected, 'glyphicon-check': mission.selected }"
                                             ng-click="mission.selected = !mission.selected; m_oController.updateMissionSelection($index);"></div>
                                    </div>
                                    <div class="col-md-11 col-xs-8 col-sd-8">{{mission.name}}</div>
                                </div>

                                <div class="row">
                                    <div ng-repeat="filter in mission.filters">
                                        <!-- INPUT -->
                                        <div class="col-md-6" ng-if="!(filter.indexvalues && filter.indexvalues.split('|').length > 0)">
                                            <div class="group">
                                                <div class="my-input-text" >
                                                    <label class="filter-label">{{filter.indexlabel}}</label>
                                                    <!--INPUT class="form controller"-->
                                                    <input type="text" ng-model="filter.indexvalue"
                                                           ng-value="filter.indexvalue" class=" filter-input"
                                                           ng-blur="m_oController.updateFilter($parent.$parent.$index)"
                                                           ng-pattern="filter.regex">

                                                    <span class="highlight filter-highlight"></span>
                                                    <span class="bar filter-bar"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <!-- INPUT NUMBER-->
                                        <!--TODO IT 659 su mantis-->
                                        <!--<div class="col-md-6" ng-if="(filter.indexmin && filter.indexmax && filter.indexvalues === '')">-->
                                            <!--<div class="group">-->
                                                <!--<div class="my-input-text" >-->
                                                    <!--<label class="filter-label">{{filter.indexlabel}}</label>-->
                                                    <!--<input type="number" ng-model="filter.indexvalue" ng-value="filter.indexvalue"-->
                                                           <!--name="points" min="filter.indexmin" max="filter.indexmax" ng-blur="m_oController.updateFilter($parent.$parent.$index)">-->
                                                <!--</div>-->
                                            <!--</div>-->
                                        <!--</div>-->
                                        <!-- LIST OF OPTIONS-->
                                        <div id="adv-options" class="group col-md-6 my-input-text"
                                             ng-if="(filter.indexvalues && filter.indexvalues.split('|').length > 0)">
                                            <label class="filter-label">{{filter.indexlabel}}</label>
                                            <!--INPUT class="form controller"-->
                                            <input type="text" ng-model="filter.indexvalue" ng-value="filter.indexvalue"
                                                   class=" filter-input"
                                                   ng-blur="m_oController.updateFilter($parent.$parent.$index)"
                                                   ng-click="m_oController.clearInput($parent.$parent.$index, $parent.$index)"
                                                   ng-pattern="filter.regex"
                                                   list="{{$parent.$parent.$index}}_{{$index}}_optlist">
                                            <div class="adv-selectfield">
                                                <datalist id="{{$parent.$parent.$index}}_{{$index}}_optlist"
                                                          class="browser-default" ng-model="filter.indexvalue">
                                                    <option selected></option>
                                                    <option ng-repeat="option in filter.indexvalues.split('|')"
                                                            value="{{option}}">{{option}}
                                                    </option>
                                                </datalist>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!--<div class="radio">-->
                                    <!--<label>-->
                                        <!--<input type="radio" name="name" value="" checked="checked">-->
                                        <!--{{"IMPORT_SEASON_SPRING_RADIO_BUTTON"|translate}}-->
                                    <!--</label>-->
                                    <!--<label>-->
                                        <!--<input type="radio" name="name"  value="" checked="checked">-->
                                        <!--{{"IMPORT_SEASON_SUMMER_RADIO_BUTTON"|translate}}-->
                                    <!--</label>-->
                                    <!--<label>-->
                                        <!--<input type="radio" name="name" value="" checked="checked">-->
                                        <!--{{"IMPORT_SEASON_WINTER_RADIO_BUTTON"|translate}}-->
                                    <!--</label>-->
                                    <!--<label>-->
                                        <!--<input type="radio" name="name"  value="" checked="checked">-->
                                        <!--{{"IMPORT_SEASON_AUTUMN_RADIO_BUTTON"|translate}}-->
                                    <!--</label>-->
                                <!--</div>-->
                            </div>

                        </div>


                    </div>
                </div>


                <!---------------------------- MERGER SEARCH -------------------->
                <div class="merge-search" ng-show="m_oController.m_bisVisibleLocalStorageInputs == true">

                    <div class="col-md-4 col-sd-4 col-xs-4 advanced-calendar-label ">
                        Time for Local storage:
                    </div>

                    <div class="col-md-8 col-sd-8 col-xs-8  advanced-calendar-input input-calendar-container my-input-text">
                        <p class="input-group">

                            <input type="text" class="form-control advanced-calendar-date-input"
                                   uib-datepicker-popup="yyyy/MM/dd"
                                   ng-model="m_oController.m_oMergeSearch.period"
                                   close-text="Close"
                                   readonly="true" data-container="body"
                                   is-open="m_oController.m_oMergeSearch.statusIsOpen"/>

                                        <span class="input-group-btn">
							                <button type="button" class="btn btn-default advanced-calendar-button"
                                                    ng-click="m_oController.openPeriodForMergeSearch($event)"><i class="fa fa-calendar" aria-hidden="true"></i></button>
						                </span>
                        </p>

                        <br/>
                        <div class="search-button-container" >

                            <div class="search-button" ng-click="m_oController.loadProductsInLocalStorage()" >
                                <!--<i class="fa fa-search fa-lg" aria-hidden="true"></i>-->
                                {{"IMPORT_SEARCH_BUTTON"|translate}}
                            </div>

                            <!--<span class="advanced-search-clear" ng-click="m_oController.clearFilter()" title="Clear Search Filter" >{{"IMPORT_CLEAR_BUTTON"|translate}}</span>-->
                        </div>
                    </div>

                </div>

                <!--**************** PRODUCTS-LAYERS TABLE ----------------------->
                <!--<div ng-include src="'partials/import_products_list.html'"></div>-->

                 <!--the table become visible after the user Search a layer -->
                <div class="container-table-row" ng-show="m_oController.m_bIsVisibleListOfLayers" id="div-container-table" >

                    <!--<div ng-show="m_oController.m_bIsVisibleListOfLayers && m_oController.isEmptyLayersList() == true" class="loadIcon">-->
                        <!--<invader></invader>-->
                    <!--</div>-->
                    <!--{{m_oController.m_bIsVisibleListOfLayers && m_oController.isEmptyLayersList() == true}}-->
                    <!--{{m_oController.m_bIsVisibleListOfLayers }}-->
                    <!--{{ m_oController.isEmptyLayersList() == true}}-->
                    <!-- TAB NAVIGATION -->
                    <ul class="nav nav-tabs" role="tablist" ><!-- ng-hide="m_oController.m_bIsVisibleListOfLayers " && m_oController.isEmptyLayersList() == true-->
                        <li ng-class="{active: m_oController.m_iActiveProvidersTab === $index}" ng-repeat="provider in m_oController.m_aListOfProvider | filter:{ selected: true }"  ng-click="m_oController.m_iActiveProvidersTab = $index">
                            <a href="" role="tab" data-toggle="tab">
                                {{provider.name }}
                                <span class="badge pull-right">{{ m_oController.m_oPageService.getNumberOfProductByProvider(provider.name)}}</span>
                            </a>


                        </li>
                    </ul>
                    <!-- TAB CONTENT -->
                    <div class="tab-content" ><!--ng-hide="m_oController.m_bIsVisibleListOfLayers && m_oController.isEmptyLayersList() == true"-->
                        <div ng-repeat="provider in m_oController.m_aListOfProvider | filter:{ selected: true }" class="missions" ng-show="m_oController.m_iActiveProvidersTab === $index">

                            <!--PAGES-->
                            <div class="pages" ng-hide="m_oController.m_bIsVisibleListOfLayers && m_oController.isEmptyLayersList() == true">
                                <ul class="pager">

                                    <div class="form-group">
                                        <label for="selectPages">{{"IMPORT_PRODUCTS_PER_PAGE_LABEL"|translate}}</label>
                                        <select class="form-control" id="selectPages" ng-model="m_oController.m_oPageService.getProviderObject(provider.name).productsPerPageSelected"
                                                ng-options="product for product in m_oController.m_oPageService.m_iProductsPerPage"
                                                ng-change="m_oController.m_oPageService.changeNumberOfProductsPerPage(provider.name,m_oController)"><!--ng-change="m_oController.search(provider.name)">-->
                                        </select>
                                    </div>
                                    <li ng-click="m_oController.m_oPageService.firstPage(provider.name,m_oController)" ><a><i class="fa fa-angle-double-left" aria-hidden="true"></i></a></li>
                                    <li ng-click="m_oController.m_oPageService.minusOnePage(provider.name,m_oController)" ><a><i class="fa fa-angle-left" aria-hidden="true"></i></a></li>
                                    <form ng-submit="m_oController.m_oPageService.changePage(m_oController.m_oPageService.getProviderObject(provider.name).currentPage,provider.name,m_oController)">
                                        {{"IMPORT_PAGE_LABEL"|translate}}
                                        <input type="text" class="form-control" ng-model="m_oController.m_oPageService.getProviderObject(provider.name).currentPage">
                                        {{"IMPORT_OF_LABEL"|translate}} {{m_oController.m_oPageService.getProviderObject(provider.name).totalPages}}
                                    </form>
                                    <li ng-click="m_oController.m_oPageService.plusOnePage(provider.name, m_oController)" ><a><i class="fa fa-angle-right" aria-hidden="true"></i></a></li>
                                    <li ng-click="m_oController.m_oPageService.lastPage(provider.name,m_oController)" ><a><i class="fa fa-angle-double-right" aria-hidden="true"></i></a></li>

                                </ul>

                            </div>

                            <!------------ IF THE LIST OF LAYERS IS EMPTY ------------>
                            <div ng-show = "m_oController.isEmptyProviderLayerList(provider.name) && provider.isLoaded === true" style=" padding-left: 10px">
                                <h2>
                                    <i class="fa fa-exclamation" aria-hidden="true"></i>
                                    There aren't any results for {{provider.name}} provide
                                    <i class="fa fa-exclamation" aria-hidden="true"></i>
                                </h2>
                            </div>
                            <!----------------- LOADING LIST OF LAYERS ---------------------->
                            <div ng-show = "m_oController.isEmptyProviderLayerList(provider.name) && m_oController.m_bIsVisibleListOfLayers === true &&  provider.isLoaded === false" class="loadIcon">
                                <invader></invader>
                            </div>

                            <table class="table table-hover layers " id="table_layers_list" ng-show="m_oController.m_bIsVisibleListOfLayers && m_oController.isEmptyLayersList() == false" >

                                <tbody ng-repeat="layer in m_oController.m_aoProductsList | filter:{ provider: provider.name } "
                                       ng-mouseover="m_oController.changeStyleRectangleMouseOver(layer.rectangle)"
                                       ng-mouseleave="m_oController.changeStyleRectangleMouseLeave(layer.rectangle)"
                                       id='{{"layer"+layer.id}}'> <!--id='{{"layer:"+$index}}' layer.id-->
                                <!------------------------------- SUMMARY ------------------------------->
                                <tr class="info-layer" >
                                    <!-- BUTTONS -->
                                    <td class="button-cell">
                                        <div class="btn-group-vertical" role="group" >
                                            <button type="button" class="btn btn btn-primary" ng-click="m_oController.downloadProduct(layer)"
                                                    ng-disabled="m_oController.isPossibleDoDownload(layer) || (layer.isDisabledToDoDownload != null && layer.isDisabledToDoDownload)" data-toggle="tooltip" data-placement="top" title="{{'IMPORT_TOOLTIP_ADD_PRODUCT'|translate}}">

                                                <i class="fa fa-plus " aria-hidden="true"></i>
                                            </button>
                                            <button type="button" class="btn btn btn-primary" ng-click="m_oController.zoomOnBounds(layer.rectangle)"
                                                    data-toggle="tooltip" data-placement="top" title="{{'IMPORT_TOOLTIP_ZOOM_ON_PRODUCT'|translate}}">
                                                <i class="fa fa-search-plus" aria-hidden="true"></i>
                                            </button>
                                            <button type="button" class="btn btn btn-primary" ng-click="m_oController.infoLayer(layer)"
                                                    data-toggle="tooltip" data-placement="top" title="{{'IMPORT_TOOLTIP_INFO'|translate}}">
                                                <i class="fa fa-info-circle" aria-hidden="true"></i>
                                            </button>
                                        </div>
                                    </td>
                                    <!-- IMAGE CELL -->
                                    <td class="image-cell">
                                        <span class="label label-success">{{layer.summary.Mode}}</span>&nbsp;<!--Mode-->
                                        <span class="label label-success"> {{layer.summary.Instrument}}</span><!--Instrument-->
                                        <div class="preview-layer-image" ><img src={{layer.preview}} alt="Image" style="height: 82px;width: 82px; "></div>
                                        <span class="badge">{{layer.summary.Size}}</span><!--Size-->
                                    </td>
                                    <!-- INFO CELL -->
                                    <td class="info-cell">

                                        <div>{{layer.summary.Date|date:'medium'}}</div><!--Date-->
                                        </br>

                                        <div>
                                            <span>Name: </span>
                                            <span><b>{{layer.title}}</b></span>
                                        </div>

                                        <div>
                                            <span>Polarisation: </span>
                                            <span><b>{{layer.summary.Mode}}</b></span>
                                        </div>

                                        <div>
                                            <span>Relative Orbit: </span>
                                            <span><b>{{layer.properties.relativeorbitnumber}}</b></span>
                                        </div>

                                        <!--<div>{{"layer"+layer.id}}</div>-->
                                        <div>
                                            <span>Provider:</span>
                                            <span><b>{{layer.provider}}</b></span>
                                        </div>

                                        <div>
                                            <span>Platform name:</span>
                                            <span><b>{{layer.properties.platformname}}</b></span>
                                        </div>
                                        <div>
                                            <span>Sensor Operational mode:</span>
                                            <span><b>{{layer.properties.sensoroperationalmode}}</b></span>
                                        </div>
                                    </td>

                                </tr>
                                </tbody>
                            </table>
                        </div>

                    </div>



                </div>
            </div>
        </div>
    </div>
        <!-- OPEN MENU -->
    <!--<div class="fixed" ng-click="m_oController.openNav()">-->
        <!--<i class="fa fa-search fa-lg" aria-hidden="true"></i>-->

    <!--</div>-->
    <!----------------------------------- MAP ------------------------------------------->
    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12 map-column ">
        <div class="map-container">
            <div class="map" id="wasdiMapImport"></div>
        </div>

    </div>

</div>

<script>
    $(function() {
        $('#table_layers_list').on('post-body.bs.table', function () {
            $('[data-tooltip="true"]').tooltip({
                container: 'body'
            });
        });
    });
</script>

<!--<script>-->
<!--function openNav() {-->
<!--document.getElementById("mySidenav").style.width = "250px";-->
<!--}-->

<!--function closeNav() {-->
<!--document.getElementById("mySidenav").style.width = "0";-->
<!--}-->
<!--</script>-->