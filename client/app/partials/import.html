<div class="import-view col-lg-12 col-md-12 col-sm-12 col-xs-12">

    <!--Operation bar-->
    <div class="col-lg-11 col-md-10 col-sm-10 col-xs-10 col-lg-offset-1 col-md-offset-2 col-sm-offset-2 col-xs-offset-2 operations-bar my-input-text"  ><!--style="height: 80px;"-->
        <!--PROVIDERS-->
        <multiselectdropdownmenu options="m_oController.m_aListOfProvider"></multiselectdropdownmenu>

        <!--&lt;!&ndash;SEARCH INPUT&ndash;&gt;-->
        <!--<div class="my-input-text "  >-->
            <!--<input type="text" ng-model="m_oController.m_oModel.textQuery"-->
                   <!--placeholder="Search..." >&lt;!&ndash; style="padding: 0px !important;"&ndash;&gt;-->
        <!--</div>-->

        <!--search button-->
        <div class="search-button-container" >
            <div class="search-button" ng-click="m_oController.search()" id="search-button"
                 ng-class="{'search-button-disabled': m_oController.thereIsAtLeastOneProvider() === false || (m_oController.m_bIsVisibleListOfLayers || m_oController.m_bisVisibleLocalStorageInputs),
                            'search-button': m_oController.thereIsAtLeastOneProvider() === true }" >
                <!--<i class="fa fa-search fa-lg" aria-hidden="true"></i>-->
                {{"IMPORT_SEARCH_BUTTON"|translate}}
            </div>
        </div>
        <!--TIME-->
        <div class="time-container" >
            <!-- TO:-->
            <div  class="my-input-text" ng-if="m_oController.m_bShowsensingfilter">

                <div class=" advanced-calendar-input input-calendar-container " >
                    <p class="input-group" >
                        <input type="text" class="form-control advanced-calendar-date-input"
                               uib-datepicker-popup="yyyy/MM/dd"
                               ng-model="m_oController.m_oModel.sensingPeriodTo"
                               is-open="m_oController.m_oStatus.openedSensingPeriodTo"
                               date-disabled="m_oController.disabled(date, mode)" ng-required="true"
                               min-date="m_oController.m_oModel.sensingPeriodFrom"
                               ng-blur="m_oController.updateAdvancedSearch()" close-text="Close"
                               readonly="true" data-container="body"/>
                        <span class="input-group-btn">
							<button type="button" class="btn btn-default advanced-calendar-button"
                                    ng-click="m_oController.openSensingPeriodTo($event)"><i class="fa fa-calendar" aria-hidden="true"></i></button>
						  </span>
                    </p>
                </div>

                <div class="description-label" >
                    To:
                </div>
                <!-- FROM: -->
                <div class="input-calendar-container" >

                    <p class="input-group">
                        <input type="text" class="form-control advanced-calendar-date-input"
                               uib-datepicker-popup="yyyy/MM/dd"
                               ng-model="m_oController.m_oModel.sensingPeriodFrom"
                               is-open="m_oController.m_oStatus.openedSensingPeriodFrom"
                               date-disabled="m_oController.disabled(date, mode)"
                               max-date="m_oController.m_oModel.sensingPeriodTo" ng-required="true"
                               ng-blur="m_oController.updateAdvancedSearch()" readonly="true"
                               close-text="Close"/>

                        <span class="input-group-btn">

							        <button type="button" class="btn btn-default advanced-calendar-button"
                                            ng-click="m_oController.openSensingPeriodFrom($event)"><i class="fa fa-calendar" aria-hidden="true"></i></button>
						            </span>

                    </p>
                </div>

                <div class="description-label" >
                    From:{{ this.m_oModel.sensingPeriodFrom}}
                </div>
                <div class="description-label" >
                    Sensing period
                </div>
            </div>
        </div>


    </div>

        <!-- SIDEBAR -->
    <div class="col-lg-4 col-md-4 col-sm-4 col-xs-12 side-panel">
        <div class="panel panel-default">


            <div class="panel-heading">
                <!-- BACK -->
                <i class="fa fa-arrow-left fa-lg backbtn" aria-hidden="true" ng-click=" m_oController.setPaginationVariables()" ng-show="m_oController.m_bIsVisibleListOfLayers"></i>

                <span ng-hide="m_oController.m_bIsVisibleListOfLayers">{{"IMPORT_PANEL_HEAD_TITLE_FILTERS"|translate}}</span>
                <div class="my-button clear-button" ng-click="m_oController.clearFilter()"   ng-click="m_oController.clearFilter()" title="Clear Search Filter" ng-show="m_oController.m_bClearFiltersEnabled">
                    <!--<i class="fa fa-search fa-lg" aria-hidden="true"></i>-->
                    <!--{{"IMPORT_CLEAR_BUTTON"|translate}}-->
                    <i class="fa fa-bath" aria-hidden="true" ></i>

                </div>

            </div>
            <div  class="panel-body"><!--id="mySidenav"-->





                <!---------------------ADVANCE SEARCH------------------------->
                <div  class="advance-search" id="advanced-search-container" ng-hide="m_oController.m_bIsVisibleListOfLayers || m_oController.m_bisVisibleLocalStorageInputs">
                    <div id="advanced-search-content">

                        <div style="overflow:visible;padding:15px 5px;" class="my-input-text"><!--id="section_2" class="panel-collapse collapse" role="tabpanel" aria-labelledby="section_2"-->

                            <!--SEARCH INPUT-->
                            <div class="search-input">
                                <div class="my-label">Product Name</div>
                                <input type="text" ng-model="m_oController.m_oModel.textQuery"
                                       placeholder="Search..." ><!-- style="padding: 0px !important;"-->
                            </div>


                            <!--*********************** MISSIONS LIST ********************************-->
                            <ul class="nav nav-tabs nav-justified">
                                <!--<li class="active"><a href="#">{{mission.name}}</a></li>-->
                                <li ng-class="{active: m_oController.m_activeMissionTab === $index}" ng-repeat="mission in m_oController.getMissions()" ng-click="m_oController.m_activeMissionTab = $index">
                                    <a href="">
                                        <i class="fa fa-check-circle" aria-hidden="true" ng-show="mission.selected"></i>
                                        <i class="fa fa-times-circle" aria-hidden="true" ng-hide="mission.selected"></i>
                                        {{mission.name}}

                                    </a>
                                </li>

                            </ul>

                            <div ng-repeat="mission in m_oController.getMissions()" class="missions" ng-show="m_oController.m_activeMissionTab === $index">
                                <!--<pre> {{$index| json}}</pre>-->


                                <div>
                                    <div class="col-md-1 col-xs-4 col-sd-4">
                                        <div class="glyphicon mission-checkbox"
                                             ng-class="{ ' glyphicon-unchecked': !mission.selected, 'glyphicon-check': mission.selected }"
                                             ng-click="mission.selected = !mission.selected; m_oController.updateMissionSelection($index);"></div>
                                    </div>
                                    <div class="col-md-11 col-xs-8 col-sd-8">{{mission.name}}</div>
                                </div>
                                <!--<div class="checkbox filter-checkbox">
                                    <label class="filter-checkbox-label"><input  type="checkbox" ng-model="mission.selected" value="mission.selected" ng-change="updateMissionSelection($index)">{{mission.name}}</label>
                                </div>-->
                                <div class="row">
                                    <div ng-repeat="filter in mission.filters">
                                        <!--<div class="row">
                                            <div >{{filter.indexlabel}}</div>
                                            <div ><input type="text" value="{{filter.indexvalue}}"></div>
                                        </div>-->
                                        <div class="col-md-6"
                                             ng-if="!(filter.indexvalues && filter.indexvalues.split('|').length > 0)">
                                            <div class="group">
                                                <div class="my-input-text" >
                                                    <label class="filter-label">{{filter.indexlabel}}</label>
                                                    <!--INPUT class="form controller"-->
                                                    <input type="text" ng-model="filter.indexvalue"
                                                           ng-value="filter.indexvalue" class=" filter-input"
                                                           ng-blur="m_oController.updateFilter($parent.$parent.$index)"
                                                           ng-pattern="filter.regex">
                                                    <span class="highlight filter-highlight"></span>
                                                    <span class="bar filter-bar"></span>
                                                </div>
                                            </div>
                                        </div>
                                        <div id="adv-options" class="group col-md-6 my-input-text"
                                             ng-if="(filter.indexvalues && filter.indexvalues.split('|').length > 0)">
                                            <label class="filter-label">{{filter.indexlabel}}</label>
                                            <!--INPUT class="form controller"-->
                                            <input type="text" ng-model="filter.indexvalue" ng-value="filter.indexvalue"
                                                   class=" filter-input"
                                                   ng-blur="m_oController.updateFilter($parent.$parent.$index)"
                                                   ng-click="m_oController.clearInput($parent.$parent.$index, $parent.$index)"
                                                   ng-pattern="filter.regex"
                                                   list="{{$parent.$parent.$index}}_{{$index}}_optlist">
                                            <div class="adv-selectfield">
                                                <datalist id="{{$parent.$parent.$index}}_{{$index}}_optlist"
                                                          class="browser-default" ng-model="filter.indexvalue">
                                                    <option selected></option>
                                                    <option ng-repeat="option in filter.indexvalues.split('|')"
                                                            value="{{option}}">{{option}}
                                                    </option>
                                                </datalist>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>


                    </div>
                </div>


                <!---------------------------- MERGER SEARCH -------------------->
                <div class="merge-search" ng-show="m_oController.m_bisVisibleLocalStorageInputs == true">

                    <div class="col-md-4 col-sd-4 col-xs-4 advanced-calendar-label ">
                        Time for Local storage:
                    </div>

                    <div class="col-md-8 col-sd-8 col-xs-8  advanced-calendar-input input-calendar-container my-input-text">
                        <p class="input-group">

                            <input type="text" class="form-control advanced-calendar-date-input"
                                   uib-datepicker-popup="yyyy/MM/dd"
                                   ng-model="m_oController.m_oMergeSearch.period"
                                   close-text="Close"
                                   readonly="true" data-container="body"
                                   is-open="m_oController.m_oMergeSearch.statusIsOpen"/>

                                        <span class="input-group-btn">
							                <button type="button" class="btn btn-default advanced-calendar-button"
                                                    ng-click="m_oController.openPeriodForMergeSearch($event)"><i class="fa fa-calendar" aria-hidden="true"></i></button>
						                </span>
                        </p>

                        <br/>
                        <div class="search-button-container" >

                            <div class="search-button" ng-click="m_oController.loadProductsInLocalStorage()" >
                                <!--<i class="fa fa-search fa-lg" aria-hidden="true"></i>-->
                                {{"IMPORT_SEARCH_BUTTON"|translate}}
                            </div>

                            <!--<span class="advanced-search-clear" ng-click="m_oController.clearFilter()" title="Clear Search Filter" >{{"IMPORT_CLEAR_BUTTON"|translate}}</span>-->
                        </div>
                    </div>

                </div>

                <!--**************** PRODUCTS-LAYERS TABLE ----------------------->
                <!--<div ng-include src="'partials/import_products_list.html'"></div>-->

                 <!--the table become visible after the user Search a layer -->
                <div class="container-table-row" ng-show="m_oController.m_bIsVisibleListOfLayers" id="div-container-table" >

                    <div ng-show="m_oController.m_bIsVisibleListOfLayers && m_oController.isEmptyLayersList() == true" class="loadIcon">
                    <!--<div ng-show="m_oController.m_bIsVisibleListOfLayers && m_oController.isEmptyLayersList() == false">-->
                        <!--<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>-->
                        <!--<span class="sr-only">Loading...</span>-->
                        <invader></invader>
                    </div>


                    <!--PAGINATION-->
                    <div class="pages" ng-hide="m_oController.m_bIsVisibleListOfLayers && m_oController.isEmptyLayersList() == true">
                        <ul class="pager">

                            <div class="form-group">
                                <label for="selectPages">{{"IMPORT_PRODUCTS_PER_PAGE_LABEL"|translate}}</label>
                                <select class="form-control" id="selectPages" ng-model="m_oController.m_iProductsPerPageSelected"
                                        ng-options="product for product in m_oController.m_iProductsPerPage" ng-change="m_oController.search()">
                                </select>
                            </div>

                            <li ng-click="m_oController.firstPage()" ><a><i class="fa fa-angle-double-left" aria-hidden="true"></i></a></li>
                            <li ng-click="m_oController.minusOnePage()" ><a><i class="fa fa-angle-left" aria-hidden="true"></i></a></li>
                            <form ng-submit="m_oController.changePage(m_oController.m_iCurrentPage)">
                                {{"IMPORT_PAGE_LABEL"|translate}}
                                <input type="text" class="form-control" ng-model="m_oController.m_iCurrentPage">
                                {{"IMPORT_OF_LABEL"|translate}} {{m_oController.m_iTotalPages}}
                            </form>
                            <li ng-click="m_oController.plusOnePage()" ><a><i class="fa fa-angle-right" aria-hidden="true"></i></a></li>
                            <li ng-click="m_oController.lastPage()" ><a><i class="fa fa-angle-double-right" aria-hidden="true"></i></a></li>

                        </ul>

                    </div>


                    <!--&lt;!&ndash; TAB NAVIGATION TODO  USE THIS PART FOR TABS PROVIDERS &ndash;&gt;-->
                    <!--<ul class="nav nav-tabs" role="tablist">-->
                        <!--<li ng-class="{active: m_oController.m_iActiveProvidersTab === $index}" ng-repeat="provider in m_oController.m_aListOfProvider"  ng-click="m_oController.m_iActiveProvidersTab = $index">-->
                            <!--<a href="" role="tab" data-toggle="tab">{{provider.name}}</a>-->
                        <!--</li>-->
                    <!--</ul>-->
                    <!--&lt;!&ndash; TAB CONTENT &ndash;&gt;-->
                    <!--<div class="tab-content">-->
                        <!--<div ng-repeat="provider in m_oController.m_aListOfProvider" class="missions" ng-show="m_oController.m_iActiveProvidersTab === $index">-->
                            <!--<h2>{{provider.name}}</h2>-->

                        <!--</div>-->

                    <!--</div>-->


            <!--********************************* TABLE **********************************-->
                    <table class="table table-hover layers " id="table_layers_list" ng-show="m_oController.m_bIsVisibleListOfLayers && m_oController.isEmptyLayersList() == false" >

                        <tbody ng-repeat="layer in m_oController.m_aoProductsList"
                               ng-mouseover="m_oController.changeStyleRectangleMouseOver(layer.rectangle)"
                               ng-mouseleave="m_oController.changeStyleRectangleMouseLeave(layer.rectangle)"
                               id='{{"layer"+layer.id}}'> <!--id='{{"layer:"+$index}}' layer.id-->
                        <!------------------------------- SUMMARY ------------------------------->
                        <tr class="info-layer" >
                            <!-- BUTTONS -->
                            <td class="button-cell">
                                <div class="btn-group-vertical" role="group" >
                                    <button type="button" class="btn btn btn-primary" ng-click="m_oController.downloadProduct(layer)"
                                            ng-disabled="m_oController.isPossibleDoDownload(layer) || (layer.isDisabledToDoDownload != null && layer.isDisabledToDoDownload)" data-toggle="tooltip" data-placement="top" title="{{'IMPORT_TOOLTIP_ADD_PRODUCT'|translate}}">

                                        <i class="fa fa-plus " aria-hidden="true"></i>
                                    </button>
                                    <button type="button" class="btn btn btn-primary" ng-click="m_oController.zoomOnBounds(layer.rectangle)"
                                            data-toggle="tooltip" data-placement="top" title="{{'IMPORT_TOOLTIP_ZOOM_ON_PRODUCT'|translate}}">
                                        <i class="fa fa-search-plus" aria-hidden="true"></i>
                                    </button>
                                    <button type="button" class="btn btn btn-primary" ng-click="m_oController.infoLayer(layer)"
                                            data-toggle="tooltip" data-placement="top" title="{{'IMPORT_TOOLTIP_INFO'|translate}}">
                                        <i class="fa fa-info-circle" aria-hidden="true"></i>
                                    </button>
                                </div>
                            </td>
                            <!-- IMAGE CELL -->
                            <td class="image-cell">
                                <span class="label label-success">{{layer.summary.Mode}}</span>&nbsp;<!--Mode-->
                                <span class="label label-success"> {{layer.summary.Instrument}}</span><!--Instrument-->
                                <div class="preview-layer-image" ><img src={{layer.preview}} alt="Image" style="height: 82px;width: 82px; "></div>
                                <span class="badge">{{layer.summary.Size}}</span><!--Size-->
                            </td>
                            <!-- INFO CELL -->
                            <td class="info-cell">

                                <div>{{layer.summary.Date|date:'medium'}}</div><!--Date-->
                                </br>

                                <div>
                                    <span>Name: </span>
                                    <span><b>{{layer.title}}</b></span>
                                </div>

                                <div>
                                    <span>Mode: </span>
                                    <span><b>{{layer.summary.Mode}}</b></span>
                                </div>

                                <div>
                                    <span>Relative Orbit: </span>
                                    <span><b>{{layer.properties.relativeorbitnumber}}</b></span>
                                </div>

                                <!--<div>{{"layer"+layer.id}}</div>-->
                                <div>
                                    <span>Provider:</span>
                                    <span><b>{{layer.provider}}</b></span>

                                </div>
                            </td>

                        </tr>
                        </tbody>
                    </table>

                </div>
            </div>
        </div>
    </div>
        <!-- OPEN MENU -->
    <!--<div class="fixed" ng-click="m_oController.openNav()">-->
        <!--<i class="fa fa-search fa-lg" aria-hidden="true"></i>-->

    <!--</div>-->
    <!----------------------------------- MAP ------------------------------------------->
    <div class="col-lg-8 col-md-8 col-sm-8 col-xs-12 map-column ">
        <div class="map-container">
            <div class="map" id="wasdiMapImport"></div>
        </div>

    </div>

</div>

<script>
    $(function() {
        $('#table_layers_list').on('post-body.bs.table', function () {
            $('[data-tooltip="true"]').tooltip({
                container: 'body'
            });
        });
    });
</script>

<!--<script>-->
<!--function openNav() {-->
<!--document.getElementById("mySidenav").style.width = "250px";-->
<!--}-->

<!--function closeNav() {-->
<!--document.getElementById("mySidenav").style.width = "0";-->
<!--}-->
<!--</script>-->