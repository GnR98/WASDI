<div class="container-fluid">
    <div class="login-view row">
        <div class="login-top">
            <div class="link-login pull-right" ng-show="m_oController.m_bVisualizeLink === true" ng-click="m_oController.changeVisibilityLoginRegister('Login')" >
                {{"LOGIN_LINK_FORM"|translate}}

            </div>
            <div class="link-register pull-right" ng-show="m_oController.m_bVisualizeLink === true" ng-click="m_oController.changeVisibilityLoginRegister('Register')" >
                {{"LOGIN_LINK_REGISTER"|translate}}
            </div>
            <!------------------------------- LOGO(write) ------------------------------->
            <div  ng-show="(!m_oController.m_bLoginIsVisible) && (!m_oController.m_bRegisterIsVisible)">

                <img class="write-logo" id="write-logo">
                <script>
                    // Script fix an error with Firefox which does not
                    // show image correctly if the 'SRC' is set from CSS
                    // via 'content' field
                    $(document).ready(function () {
                        var oImage = $("#write-logo");
                        var imageSrc = oImage.css("content");
                        imageSrc = imageSrc.replace("url(\"","");
                        imageSrc = imageSrc.replace("\")","");
                        oImage.attr("src",imageSrc);
                    })
                </script>

            </div>


            <!------------------------ LOGIN FORM ------------------------>
            <div class="login-content" ng-show="m_oController.m_bLoginIsVisible === true" >

                <form class="form-signin" ng-submit="m_oController.login()" ng-hide="m_oController.m_bIsVisibleRecoveryPassword">
                    <div class="form-group">
                        <input type="text"  placeholder="{{'LOGIN_PLACEHOLDER_EMAIL'|translate}}" class="form-control" id="userName" ng-model="m_oController.m_sUserName">
                    </div>
                    <div class="form-group">
                        <input type="password" placeholder="{{'LOGIN_PLACEHOLDER_PASSWORD'|translate}}" class="form-control" id="userPassword" ng-model="m_oController.m_sUserPassword">
                    </div>
                    <label>
                        <input type="checkbox" value="remember-me"> {{"LOGIN_CHECK_BOX_LABEL"|translate}}
                    </label>
                    <button class="btn btn-md btn-primary btn-block btn-signin" type="submit">{{"LOGIN_BUTTON_SIGN_IN"|translate}}</button>
                </form>

                <br>

                <!--TODO REMOVE IT-->
                <!--<div class="google-button-container" ng-hide="m_oController.m_bIsVisibleRecoveryPassword">-->
                    <!--<google-plus-signin clientid="882119222530-0e4bq80lvftjh3iqehb7mcit5mgh1bu7.apps.googleusercontent.com" language="it"></google-plus-signin>-->
                <!--</div>-->

                <div id="my-signin2" ng-hide="m_oController.m_bIsVisibleRecoveryPassword"></div>

                <script src="https://apis.google.com/js/platform.js?onload=renderButton" async defer></script>


                <div  ng-hide="m_oController.m_bIsVisibleRecoveryPassword">
                    <a href="#" class="forgot-password" ng-click="m_oController.m_bIsVisibleRecoveryPassword = !m_oController.m_bIsVisibleRecoveryPassword">
                        {{"LOGIN_LINK_FORGOT_PASSWORD"|translate}}
                    </a>
                </div>
                <!-- RECOVEY FORM -->
                <form class="form-signin" name="recoveryForm"  ng-show="m_oController.m_bIsVisibleRecoveryPassword === true">
                    <div>
                        {{"RECOVERY_EMAIL_TITLE"|translate}}
                    </div>
                    <div class="form-group">
                        <input type="email"  placeholder="{{'LOGIN_PLACEHOLDER_EMAIL'|translate}}" class="form-control" id="mail" >
                    </div>

                    <button class="btn btn-md btn-primary btn-block btn-signin" ng-class="{disabled: (recoveryForm.$invalid === true || recoveryForm.$dirty === false) }"
                            type="submit">
                        {{"RECOVERY_EMAIL_BUTTON"|translate}}
                    </button>
                    <a href="" ng-click="m_oController.m_bIsVisibleRecoveryPassword = !m_oController.m_bIsVisibleRecoveryPassword">
                        <i class="fa fa-arrow-left" aria-hidden="true"></i>
                        back
                    </a>

                </form>

            </div>



            <!------------------------ REGISTRATION FORM ------------------------>
            <div class="signin-content" ng-show="m_oController.m_bRegisterIsVisible" >
                <!--Work in progress... If you want a test account contact us: wasdi@fadeout.it-->
                <form class="form-signin" name="signinForm" ng-submit="m_oController.signingUser()" >
                    <div class="form-group">
                        <input type="email" name="useremail" placeholder="{{'SIGN_IN_PLACEHOLDER_EMAIL'|translate}}" class="form-control"
                               ng-model="m_oController.m_oRegistrationUser.userId" required>
                        <h6 class="error-message" ng-if="(signinForm.useremail.$dirty === true) &&
                                                         (!signinForm.useremail.$valid)">
                            {{"SIGN_IN_ERROR_INVALID_TOO_SHORT"|translate}}
                        </h6>
                    </div>

                    <div class="form-group">
                        <input type="password" name="userpassword"  ng-model="m_oController.m_oRegistrationUser.password"
                               placeholder="{{'SIGN_IN_PLACEHOLDER_PASSWORD'|translate}}" class="form-control"
                                ng-minlength="8" required><!-- ng-model="m_oController.m_oRegistrationUser.password"-->
                        <h6 class="error-message" ng-if="(m_oController.m_oRegistrationUser.password.length !== 0) &&
                                                         (!signinForm.userpassword.$valid)">
                            {{"SIGN_IN_ERROR_INVALID_TOO_SHORT"|translate}}
                        </h6>
                    </div>

                    <!--<input name="myInput" ng-model="myInput" ng-maxlength="5">-->


                    <div class="form-group">
                        <input type="password" name="userrepeatpassword" placeholder="{{'SIGN_IN_PLACEHOLDER_REPEAT_PASSWORD'|translate}}" class="form-control"
                               ng-model="m_oController.m_oRegistrationUser.repeatPassword" ng-minlength="8" required>
                        <h6 class="error-message" ng-if="(signinForm.userrepeatpassword.$dirty === true) &&
                                                        (signinForm.userpassword.$viewValue !== signinForm.userrepeatpassword.$viewValue)">
                            {{"SIGN_IN_ERROR_INVALID_DIFFERENT_PASSWORDS"|translate}}
                        </h6>
                    </div>

                    <div class ="form-group" >
                        <input type="text" name="username" placeholder="{{'SIGN_IN_PLACEHOLDER_NAME'|translate}}" class="form-control"
                               ng-model="m_oController.m_oRegistrationUser.name" required>
                        <h6 class="error-message" ng-if="(signinForm.username.$dirty === true) &&
                                                         (!signinForm.username.$valid)">
                            {{"SIGN_IN_ERROR_INVALID_INSERT_NAME"|translate}}
                        </h6>
                    </div>
                    <div class="form-group">
                        <input type="text" name="usersurname" placeholder="{{'SIGN_IN_PLACEHOLDER_SURNAME'|translate}}" class="form-control"
                               ng-model="m_oController.m_oRegistrationUser.surname" required>
                        <h6 class="error-message" ng-if="(signinForm.usersurname.$dirty === true) &&
                                                         (!signinForm.usersurname.$valid)">
                            {{"SIGN_IN_ERROR_INVALID_INSERT_SURNAME"|translate}}
                        </h6>
                    </div>

                    <button class="btn btn-md btn-primary btn-block btn-signin" ng-class="{disabled: signinForm.$invalid === true }"
                            type="submit">
                        {{"SIGN_IN_BUTTON"|translate}}
                    </button>

                    <div class="alert alert-success" role="alert" ng-show ="m_oController.m_bSuccess === true">
                        {{"SIGN_IN_ERROR_SUCCESS_REGISTRATION"|translate}}
                    </div>
                    <div class="alert alert-danger" role="alert"
                                ng-hide = "m_oController.m_bError === false || m_oController.m_sMessageError || m_oController.m_sMessageError.length > 0">
                        {{"SIGN_IN_ERROR_GENERAL_ERROR"|translate}}
                    </div>
                    <div class="alert alert-danger" role="alert" ng-show ="m_oController.m_bError === true"
                                ng-show = "!m_oController.m_sMessageError || m_oController.m_sMessageError.length  === 0">
                        {{m_oController.m_sMessageError}}
                    </div>
                    <!--<div class="form-group">-->
                        <!--<input type="password" placeholder="{{'LOGIN_PLACEHOLDER_PASSWORD'|translate}}" class="form-control" id="userPassword" ng-model="m_oController.m_sUserPassword">-->
                    <!--</div>-->
                    <!--<label>-->
                        <!--<input type="checkbox" value="remember-me"> {{"LOGIN_CHECK_BOX_LABEL"|translate}}-->
                    <!--</label>-->
                    <!--<button class="btn btn-md btn-primary btn-block btn-signin" type="submit">{{"LOGIN_BUTTON_SIGN_IN"|translate}}</button>-->
                </form>

            </div>

            <!--snake></snake-->
        </div>

        <!-- LOGIN LOGO SNAKE (background color white )-->
        <div class="login-bottom">
            <!------------------------------- LOGO ------------------------------->
            <img class="logo" id="logo"  ng-show="(!m_oController.m_bLoginIsVisible) && (!m_oController.m_bRegisterIsVisible)">
            <script>
                // Script fix an error with Firefox which does not
                // show image correctly if the 'SRC' is set from CSS
                // via 'content' field
                $(document).ready(function () {
                    var oImage = $("#logo");
                    var imageSrc = oImage.css("content");
                    imageSrc = imageSrc.replace("url(\"","");
                    imageSrc = imageSrc.replace("\")","");
                    oImage.attr("src",imageSrc);
                })
            </script>
            <div class="write"  ng-show="(!m_oController.m_bLoginIsVisible) && (!m_oController.m_bRegisterIsVisible)"><h2>{{"LOGIN_WRITE"|translate}}</h2></div>
        </div>

        <footer>
            <img class="striscia_loghi" id="striscia_loghi"  ng-show="(!m_oController.m_bLoginIsVisible) && (!m_oController.m_bRegisterIsVisible)">
            <script>
                // Script fix an error with Firefox which does not
                // show image correctly if the 'SRC' is set from CSS
                // via 'content' field
                $(document).ready(function () {
                    var oImage = $("#striscia_loghi");
                    var imageSrc = oImage.css("content");
                    imageSrc = imageSrc.replace("url(\"","");
                    imageSrc = imageSrc.replace("\")","");
                    oImage.attr("src",imageSrc);
                })
            </script>
        </footer>
    </div>
</div>
